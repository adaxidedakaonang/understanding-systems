## 多线程同步

### 竞争与协作

线程是调度的基本单位，进程是资源分配的基本单位。

原子操作指令：测试和置位（Test-and-Set）指令：赋新值并返回旧值

原子操作：要么全部执行，要么都不执行，不能出现执行到一半的中间状态。

### 读者-写者问题

1. 读优先：读者为0才唤醒写者（写者饥饿）  
2. 写优先：写者为0才唤醒读者（读者饥饿）  
3. 公平竞争：添加额外互斥信号量**flag**，读者写者共同操作，保持互斥。
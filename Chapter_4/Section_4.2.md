## 进程间通信

* 管道
* 消息队列
* 共享内存
* 信号量
* 信号
* Socket

进程的用户地址空间都是独立的。通信必须通过内核。  

### 管道

```C
$ ps auxf | grep mysql
```
上面的竖线就是管道。  
管道的意思是将前一个命令的输出作为后一个命令的输入。
因此相互通信需要两个管道。
竖线是匿名管道，用完即销毁。

命名管道的创建：
```
$ mkfifo myPipe
```
Linux理念：**一切皆文件**

```C++
echo "hello" > myPipe // 写入数据到管道

cat < myPipe // 读取管道里的数据
```

### 消息队列

消息队列是保存在内核中的消息链表  
缺点：通信不及时，消息体的大小有限制（消息队列不适合大数据的传输）  
消息队列通信过程中，存在⽤户态与内核态之间的数据拷⻉开销  

### 共享内存

共享内存的机制，就是拿出⼀块虚拟地址空间来，映射到相同的物理内存中

### 信号量

信号量其实是⼀个整型的计数器，主要⽤于实现进程间的互斥与同步，⽽不是⽤于缓存进程
间通信的数据。
* P操作：信号量减1 （访问前执行）
* V操作：信号量加1 （访问后执行）
  
* 初始为1：互斥信号量
* 初始为0：同步信号量
  
### 信号

### socket

基于tcp的:  
有两个socket，一个是用来监听的，一个是用来传送数据的。

基于udp的：udp没有连接，不需要三次握手。传输数据用：  
sendto 和 recvfrom， 加目标主机的ip地址和端口。

基于本地的：
不用绑ip和端口，只用绑一个本地文件。



